The outer select chooses a title of a production which has some id, which is then made sure to relate to the inner select, connecting it the the fromId of the first reference mentioned. Following this, joins are made to two extra references, simulating the 2-link reference from the production whose title is selected in the outer select statement. The references are connected to each other by pairing the toId of the initially selected production with the fromId of another reference, and then doing the same with this second reference and a third reference. Thus a reference essentially goes from the initially selected production to the third mentioned reference (through the second one). Finally, a grouping is performed based on the fromId of the first reference, and the counting is stored in a variable which can then be used to give a more meaningful name in the outer selection (which again also retrieves the name based on the found Id). Ordering and limiting is added to make the result fit the assignment's actual request.